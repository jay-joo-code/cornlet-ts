(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{44:function(t,n,e){t.exports=e(74)},54:function(t,n,e){},74:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e.n(r),c=e(16),o=e.n(c),i=e(43),u=e(10),l=e(14),s=e(9),d=(e(53),{primary:"#0275d8",secondary:"#0275d8",success:"#0275d8",warning:"#0275d8",danger:"#0275d8"}),p=e(4),f=Object(s.b)({name:"auth",initialState:{loading:!1,currentUser:{},isAuthenticated:!1},reducers:{loginStart:function(t){t.loading=!0},loginSuccess:function(t,n){var e=n.payload;t.currentUser=e,t.isAuthenticated=!0,t.loading=!1},loginError:function(t,n){var e=n.payload;t.error=e,t.isAuthenticated=!1,t.loading=!1},logout:function(t){t.loading=!0},logoutSuccess:function(t){t.isAuthenticated=!1,t.currentUser={},t.error="",t.loading=!1}}}),g=f.actions,b=(g.loginStart,g.loginSuccess,g.loginError,g.logout,g.logoutSuccess,f.reducer),m=Object(s.b)({name:"count",initialState:{count:0},reducers:{increment:function(t){t.count+=1},decrement:function(t){t.count-=1},set:function(t,n){t.count=0},reset:function(t){t.count=0}}}),v=m.actions,h=v.increment,j=v.decrement,O=(v.reset,m.reducer),y=Object(p.c)({authState:b,countState:O}),E=(e(54),e(76)),k=e(37),w=Object(k.a)(),S=e(18);function A(){var t=Object(S.a)(["\n  border-radius: 8px;\n  background: ",";\n  color: white;\n  padding: .5rem 1rem;\n  cursor: pointer;\n"]);return A=function(){return t},t}var C=u.b.button(A(),(function(t){return t.theme[t.color]})),L=function(t){return a.a.createElement(C,t,t.label)},I=e(2),T=e(11),U=e(41),W=e.n(U),x=e(22),N=e.n(x),R=(e(42),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N.a.stringify(t,Object(I.a)({arrayFormat:"bracket"},n))}),D=function(){return localStorage.getItem("authToken")},P="/api",z=function(){return{"Content-Type":"application/json",Authorization:D()?"Bearer ".concat(D()):void 0}},B={code:"INTERNAL_ERROR",message:"Something went wrong. Please check your internet connection or contact our support.",status:503,data:{}},F=function(t,n,e){return new Promise((function(r,a){W()({url:"".concat(P).concat(n),method:t,headers:z(),params:"get"===t?e:void 0,data:"get"!==t?e:void 0,paramsSerializer:R}).then((function(t){r(t.data)}),(function(t){t.response?"INVALID_TOKEN"===t.response.data.error.code?(localStorage.removeItem("authToken"),w.push("/auth")):a(t.response.data.error):a(B)}))}))},J={get:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return F.apply(void 0,["get"].concat(n))},post:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return F.apply(void 0,["post"].concat(n))},put:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return F.apply(void 0,["put"].concat(n))},patch:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return F.apply(void 0,["patch"].concat(n))},delete:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return F.apply(void 0,["delete"].concat(n))}},_=function(t){var n=Object(r.useState)(t||{}),e=Object(T.a)(n,2),a=e[0],c=e[1];return[a,Object(r.useCallback)((function(t){var n;(n=t)&&"[object Function]"==={}.toString.call(n)?c((function(n){return Object(I.a)(Object(I.a)({},n),t(n))})):c((function(n){return Object(I.a)(Object(I.a)({},n),t)}))}),[])]},K=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=_({data:null,error:null,isLoading:!1,variables:{}}),a=Object(T.a)(e,2),c=a[0],o=a[1],i=Object(r.useCallback)((function(){var e=Object(I.a)({},c.variables),r=Object(I.a)(Object(I.a)({},n),e);o({isLoading:!0,variables:e}),J.get(t,r).then((function(t){o({data:t,error:null,isLoading:!1})}),(function(t){o({error:t,data:null,isLoading:!1})}))}),[n]);Object(r.useEffect)((function(){i()}),[i]);var u=Object(r.useCallback)((function(t){return o((function(n){var e=n.data;return{data:t(e)}}))}),[o,t]);return[Object(I.a)(Object(I.a)({},c),{},{variables:Object(I.a)(Object(I.a)({},n),c.variables),setLocalData:u}),i]},M=e(19),V={post:"isCreating",put:"isUpdating",patch:"isUpdating",delete:"isDeleting"},q=function(t,n){var e=_({data:null,error:null,isWorking:!1}),a=Object(T.a)(e,2),c=a[0],o=a[1],i=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(r,a){o({isWorking:!0}),J[t](n,e).then((function(t){r(t),o({data:t,error:null,isWorking:!1})}),(function(t){a(t),o({error:t,data:null,isWorking:!1})}))}))}),[t,n,o]);return[Object(I.a)(Object(I.a)({},c),{},Object(M.a)({},V[t],c.isWorking)),i]},G={get:K,post:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return q.apply(void 0,["post"].concat(n))},put:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return q.apply(void 0,["put"].concat(n))},patch:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return q.apply(void 0,["patch"].concat(n))},delete:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return q.apply(void 0,["delete"].concat(n))}};function H(){var t=Object(S.a)(["\n  display: flex;\n  align-items: center;\n\n  & > * {\n    margin-right: .5rem;\n  }\n"]);return H=function(){return t},t}var Q=u.b.div(H()),X=function(){var t=Object(l.c)((function(t){return t.countState})),n=Object(l.b)();return Object(r.useEffect)((function(){G.get("/")}),[]),a.a.createElement(Q,null,a.a.createElement(L,{label:"decrement",color:"primary",onClick:function(){return n(j())}}),a.a.createElement("p",null,t.count),a.a.createElement(L,{label:"increment",color:"primary",onClick:function(){return n(h())}}))},Y=[{path:"/auth",component:X}],Z=function(){return a.a.createElement(E.b,{history:w},a.a.createElement(E.c,null,a.a.createElement(E.a,{exact:!0,path:"/",component:X}),Y.map((function(t){var n=t.path,e=t.component;return a.a.createElement(E.a,{key:n,path:n,component:e})}))))},$=[],tt=Object(s.a)({reducer:y,middleware:[].concat(Object(i.a)(Object(s.c)({thunk:!1})),$),devTools:!1}),nt=function(){return a.a.createElement(l.a,{store:tt},a.a.createElement(u.a,{theme:d},a.a.createElement(Z,null)))};o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(nt,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.ba11b7a6.chunk.js.map